# 開発ポリシー・共通基盤

> このディレクトリには、プロジェクト全体に適用される「憲法」を定義します。

---

## 概要

GC Storageプロジェクトにおける開発の基本方針、技術選定、コーディング規約を定義します。
**すべてのコードは、ここに記載されたルールに従う必要があります。**

---

## ドキュメント一覧

| ファイル | 内容 | 必読度 |
|---------|------|--------|
| [TECH_STACK.md](./TECH_STACK.md) | 技術スタック・バージョン・選定理由 | 必須 |
| [CODING_STANDARDS.md](./CODING_STANDARDS.md) | 命名規則・コーディング規約・エラーハンドリング | 必須 |
| [TESTING.md](./TESTING.md) | テスト戦略・カバレッジ目標・テストの書き方 | 必須 |
| [SETUP.md](./SETUP.md) | 開発環境セットアップ手順 | 初回のみ |
| [CONTRIBUTING.md](./CONTRIBUTING.md) | 開発プロセス・ブランチ戦略・PRルール | 必須 |
| [adr/](./adr/) | アーキテクチャ決定記録 | 参考 |

---

## AI向けメタ指示

このプロジェクトでコードを生成・修正する際は、以下の原則を遵守してください：

### 基本原則

1. **型安全性を最優先**
   - TypeScript/Goの型システムを最大限活用する
   - `any`型、型アサーション、`interface{}`の使用を避ける
   - 型推論に頼りすぎず、明示的な型注釈を付ける

2. **副作用を最小化**
   - 純粋関数を優先する
   - 副作用は明示的に分離し、適切なレイヤーで処理する
   - グローバル状態の変更を避ける

3. **テスタビリティを確保**
   - 依存性注入を活用する
   - モックしやすい設計にする
   - 外部依存はインターフェースで抽象化する

4. **シンプルさを維持**
   - YAGNI（You Ain't Gonna Need It）を遵守
   - 過度な抽象化を避ける
   - 読みやすさを優先する

### 禁止事項

- `console.log`をコミットに含めない（デバッグ用途を除く）
- ハードコードされた秘密情報（APIキー、パスワード等）
- 未使用のimport/変数を残さない
- テストなしの機能追加

### 推奨事項

- エラーは早期にfailさせる
- ログは構造化ログ形式で出力
- コメントは「なぜ」を説明し、「何を」は避ける
- 関数は単一責任を持つ

---

## クイックリファレンス

### コードを書く前に

```
1. TECH_STACK.md で使用技術を確認
2. CODING_STANDARDS.md で規約を確認
3. 関連する ADR があれば確認
```

### PRを作成する前に

```
1. CONTRIBUTING.md のPRチェックリストを確認
2. TESTING.md のテスト方針に従ってテストを追加
3. コーディング規約に違反していないか確認
```

---

## 関連ドキュメント

- [アーキテクチャ](../02-architecture/) - 技術設計・システム構成
- [ドメイン](../03-domains/) - ビジネスロジック・エンティティ
- [仕様](../04-specs/) - 機能要件・実装指示
