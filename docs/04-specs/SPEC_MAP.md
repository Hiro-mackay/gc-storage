# æ©Ÿèƒ½ä»•æ§˜ãƒãƒƒãƒ— (Spec Map)

> ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€03-domains/ ã®ãƒ‰ãƒ¡ã‚¤ãƒ³å®šç¾©ã«åŸºã¥ãæ©Ÿèƒ½ä»•æ§˜ã®å…¨ä½“åƒã¨è©³ç´°è¨­è¨ˆã®é€²ã‚æ–¹ã‚’ç¤ºã—ã¾ã™ã€‚

---

## æ¦‚è¦

GC Storage ã®æ©Ÿèƒ½ä»•æ§˜ã‚’ **6ã¤ã®ãƒ•ã‚§ãƒ¼ã‚º** ã«åˆ†é¡ã—ã€ã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤ã‹ã‚‰é †æ¬¡å®Ÿè£…ã‚’é€²ã‚ã¾ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GC Storage æ©Ÿèƒ½ä»•æ§˜ãƒãƒƒãƒ—                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 0: Infrastructure Layerï¼ˆåŸºç›¤ï¼‰                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ PostgreSQL  â”‚ â”‚    Redis    â”‚ â”‚    MinIO    â”‚ â”‚    SMTP     â”‚           â”‚
â”‚  â”‚  Database   â”‚ â”‚   Cache     â”‚ â”‚   Storage   â”‚ â”‚   Email     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  API Base   â”‚ â”‚   Logging   â”‚ â”‚  Workers    â”‚                           â”‚
â”‚  â”‚  Framework  â”‚ â”‚  Monitoring â”‚ â”‚   Batch     â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚    Identity     â”‚  Phase 1
                              â”‚    Context      â”‚  èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                  â”‚                  â”‚
                    â–¼                  â–¼                  â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   Storage       â”‚ â”‚ Collaboration   â”‚ â”‚ Authorization   â”‚
          â”‚   Context       â”‚ â”‚   Context       â”‚ â”‚   Context       â”‚
          â”‚                 â”‚ â”‚                 â”‚ â”‚                 â”‚
          â”‚  Phase 2        â”‚ â”‚  Phase 3        â”‚ â”‚  Phase 2-3      â”‚
          â”‚  ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ â”‚ â”‚  ã‚°ãƒ«ãƒ¼ãƒ—ãƒ»æ‹›å¾…   â”‚ â”‚  æ¨©é™ç®¡ç†        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                   â”‚                   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚    Sharing      â”‚  Phase 4
                              â”‚    Context      â”‚  å…±æœ‰ãƒªãƒ³ã‚¯
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è©³ç´°è¨­è¨ˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚§ãƒ¼ã‚º | è©³ç´°è¨­è¨ˆãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|---------|-----------------|------|
| Phase 0A | [infra-database.md](./infra-database.md) | PostgreSQLæ¥ç¶šãƒ»ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç† |
| Phase 0B | [infra-redis.md](./infra-redis.md) | Redisæ¥ç¶šãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| Phase 0C | [infra-minio.md](./infra-minio.md) | MinIOã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ»Presigned URL |
| Phase 0D | [infra-email.md](./infra-email.md) | SMTPãƒ»ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| Phase 0E | [infra-api.md](./infra-api.md) | APIãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ |
| Phase 1 | [auth-identity.md](./auth-identity.md) | èªè¨¼ãƒ»JWTãƒ»OAuthãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ |
| Phase 2A | [storage-folder.md](./storage-folder.md) | ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†ï¼ˆéšå±¤ãƒ»é–‰åŒ…ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ |
| Phase 2B | [storage-file.md](./storage-file.md) | ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ |
| Phase 3 | [collab-group.md](./collab-group.md) | ã‚°ãƒ«ãƒ¼ãƒ—ãƒ»ãƒ¡ãƒ³ãƒãƒ¼ãƒ»æ‹›å¾… |
| Phase 2-3 | [authz-permission.md](./authz-permission.md) | æ¨©é™ç®¡ç†ï¼ˆPBAC + ReBACï¼‰ |
| Phase 4 | [share-link.md](./share-link.md) | å…±æœ‰ãƒªãƒ³ã‚¯ |
| Phase 5 | [fe-foundation.md](./fe-foundation.md) | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åŸºç›¤ |
| Phase 5 | [fe-auth-pages.md](./fe-auth-pages.md) | èªè¨¼ç”»é¢ |
| Phase 5 | [fe-file-browser.md](./fe-file-browser.md) | ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ç”»é¢ |
| Phase 5 | [fe-api-integration.md](./fe-api-integration.md) | APIé€£æºä»•æ§˜ |
| Phase 5 | [fe-routing.md](./fe-routing.md) | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä»•æ§˜ |
| Phase 5 | [fe-state-management.md](./fe-state-management.md) | çŠ¶æ…‹ç®¡ç†ä»•æ§˜ |
| Phase 5 | [fe-openapi-typegen.md](./fe-openapi-typegen.md) | OpenAPIå‹ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ä»•æ§˜ |

---

## Phase 0: Infrastructure Layerï¼ˆã‚¤ãƒ³ãƒ•ãƒ©åŸºç›¤ï¼‰

> **ä¾å­˜é–¢ä¿‚**: ãªã—ï¼ˆå…¨ãƒ•ã‚§ãƒ¼ã‚ºã®åŸºç›¤ï¼‰
> **ç›®çš„**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§ä½¿ç”¨ã™ã‚‹åŸºç›¤ã‚µãƒ¼ãƒ“ã‚¹ã®çµ±åˆ

### 0A: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPostgreSQLï¼‰

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [infra-database.md](./infra-database.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0A.1 | `db-connection` | DBæ¥ç¶šãƒ»ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ« | High | Done | - |
| 0A.2 | `db-migration` | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç† | High | Done | 0A.1 |
| 0A.3 | `db-transaction` | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç† | High | Done | 0A.1 |
| 0A.4 | `db-repository-base` | ãƒªãƒã‚¸ãƒˆãƒªåŸºåº•å®Ÿè£… | High | Done | 0A.1 |

### 0B: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆRedisï¼‰

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [infra-redis.md](./infra-redis.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0B.1 | `redis-connection` | Redisæ¥ç¶šç®¡ç† | High | Done | - |
| 0B.2 | `redis-session-store` | ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢ | High | Done | 0B.1 |
| 0B.3 | `redis-rate-limit` | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ | Medium | Done | 0B.1 |
| 0B.4 | `redis-cache` | æ±ç”¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | Medium | Draft | 0B.1 |

### 0C: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆMinIOï¼‰

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [infra-minio.md](./infra-minio.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0C.1 | `minio-connection` | MinIOæ¥ç¶šãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ– | High | Done | - |
| 0C.2 | `minio-bucket-setup` | ãƒã‚±ãƒƒãƒˆä½œæˆãƒ»è¨­å®š | High | Done | 0C.1 |
| 0C.3 | `minio-presigned-put` | Presigned PUT URLç”Ÿæˆ | High | Done | 0C.1 |
| 0C.4 | `minio-presigned-get` | Presigned GET URLç”Ÿæˆ | High | Done | 0C.1 |
| 0C.5 | `minio-multipart-init` | ãƒãƒ«ãƒãƒ‘ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é–‹å§‹ | High | Done | 0C.1 |
| 0C.6 | `minio-multipart-complete` | ãƒãƒ«ãƒãƒ‘ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº† | High | Done | 0C.5 |
| 0C.7 | `minio-multipart-abort` | ãƒãƒ«ãƒãƒ‘ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­æ–­ | Medium | Done | 0C.5 |
| 0C.8 | `minio-object-info` | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±å–å¾— | High | Draft | 0C.1 |
| 0C.9 | `minio-object-delete` | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤ | High | Draft | 0C.1 |
| 0C.10 | `minio-object-copy` | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ”ãƒ¼ | Medium | Draft | 0C.1 |
| 0C.11 | `minio-lifecycle` | ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒãƒªã‚·ãƒ¼è¨­å®š | Low | Draft | 0C.2 |
| 0C.12 | `minio-cleanup` | å­¤ç«‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ— | Low | Draft | 0C.1 |
| 0C.13 | `minio-versioning` | ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹åŒ– | High | Draft | 0C.2 |
| 0C.14 | `minio-webhook` | Bucket Notificationï¼ˆWebhookå—ä¿¡ï¼‰ | High | Draft | 0C.1 |

#### MinIO è¨­è¨ˆè©³ç´°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MinIO Storage Architectureï¼ˆWebhooké§†å‹•ï¼‰                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€ãƒã‚±ãƒƒãƒˆæ§‹æˆã€‘
gc-storage (ãƒ¡ã‚¤ãƒ³ãƒã‚±ãƒƒãƒˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹)
â””â”€â”€ {file_id}                      # ãƒ•ã‚¡ã‚¤ãƒ«æœ¬ä½“ï¼ˆUUIDv4ï¼‰
    â””â”€â”€ thumbnails/{size}          # ã‚µãƒ ãƒã‚¤ãƒ«

ã€StorageKeyå½¢å¼ã€‘
{file_id} ã®ã¿ï¼ˆUUIDv4ï¼‰
ä¾‹: 550e8400-e29b-41d4-a716-446655440000

è¨­è¨ˆç†ç”±:
â€¢ æ‰€æœ‰è€…å¤‰æ›´è€æ€§: æ‰€æœ‰è€…ãŒå¤‰ã‚ã£ã¦ã‚‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç§»å‹•ä¸è¦
â€¢ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: ã‚­ãƒ¼ã‹ã‚‰æ‰€æœ‰è€…æƒ…å ±ãŒæ¼æ´©ã—ãªã„
â€¢ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†: MinIOãƒã‚¤ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã§è‡ªå‹•ç®¡ç†

ã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼ï¼ˆWebhooké§†å‹•ï¼‰ã€‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚â”€â”€â”€â”€â”€â–¶â”‚   API   â”‚      â”‚  MinIO  â”‚â”€â”€â”€â”€â”€â–¶â”‚   API   â”‚
â”‚         â”‚      â”‚         â”‚      â”‚         â”‚      â”‚         â”‚
â”‚ 1.è¦æ±‚  â”‚      â”‚2.Presignâ”‚â”€â”€â”€â”€â”€â–¶â”‚3.Upload â”‚      â”‚4.Webhookâ”‚
â”‚         â”‚      â”‚  URL    â”‚      â”‚  Direct â”‚      â”‚  é€šçŸ¥   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤‰æ›´ç‚¹: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®å®Œäº†é€šçŸ¥ä¸è¦ã€MinIOãŒç›´æ¥APIã«Webhooké€ä¿¡

ã€Presigned URLã€‘
â€¢ PUT URL: 15åˆ†æœ‰åŠ¹ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ç›´æ¥MinIOã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â€¢ GET URL: 1æ™‚é–“æœ‰åŠ¹ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ç›´æ¥MinIOã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

ã€ãƒãƒ«ãƒãƒ‘ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€‘
â€¢ 100MBä»¥ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ¨å¥¨
â€¢ æœ€å¤§10,000ãƒ‘ãƒ¼ãƒˆ
â€¢ ãƒ‘ãƒ¼ãƒˆã‚µã‚¤ã‚º: 64MB
â€¢ åˆæœŸåŒ–æ™‚ã«å…¨ãƒ‘ãƒ¼ãƒˆã®Presigned URLã‚’ä¸€æ‹¬è¿”å´
â€¢ å®Œäº†ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒMinIO S3 APIã‚’ç›´æ¥å‘¼å‡ºã€Webhookã§æ¤œçŸ¥
```

### 0D: ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆSMTPï¼‰

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [infra-email.md](./infra-email.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0D.1 | `smtp-connection` | SMTPæ¥ç¶šè¨­å®š | High | Done | - |
| 0D.2 | `email-template` | ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† | High | Done | 0D.1 |
| 0D.3 | `email-verification` | ãƒ¡ãƒ¼ãƒ«ç¢ºèªãƒ¡ãƒ¼ãƒ«é€ä¿¡ | High | Draft | 0D.2 |
| 0D.4 | `email-password-reset` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ« | High | Draft | 0D.2 |
| 0D.5 | `email-invitation` | ã‚°ãƒ«ãƒ¼ãƒ—æ‹›å¾…ãƒ¡ãƒ¼ãƒ« | Medium | Draft | 0D.2 |
| 0D.6 | `email-notification` | é€šçŸ¥ãƒ¡ãƒ¼ãƒ«ï¼ˆå…±æœ‰ãªã©ï¼‰ | Low | Draft | 0D.2 |

### 0E: APIåŸºç›¤

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [infra-api.md](./infra-api.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0E.1 | `api-router` | ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š | High | Done | - |
| 0E.2 | `api-middleware-auth` | èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ | High | Done | 0E.1 |
| 0E.3 | `api-middleware-cors` | CORSãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ | High | Done | 0E.1 |
| 0E.4 | `api-error-response` | ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¨™æº–åŒ– | High | Done | 0E.1 |
| 0E.5 | `api-validation` | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | High | Done | 0E.1 |
| 0E.6 | `api-pagination` | ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å…±é€šåŒ– | Medium | Draft | 0E.1 |
| 0E.7 | `api-rate-limit` | APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ | Medium | Done | 0B.3 |
| 0E.8 | `api-versioning` | APIãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° | Low | Done | 0E.1 |

### 0F: ãƒ­ã‚®ãƒ³ã‚°ãƒ»ç›£è¦–

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0F.1 | `log-structured` | æ§‹é€ åŒ–ãƒ­ã‚°å‡ºåŠ› | High | Done | - |
| 0F.2 | `log-request` | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ­ã‚° | High | Done | 0F.1 |
| 0F.3 | `log-audit` | ç›£æŸ»ãƒ­ã‚° | Medium | Draft | 0F.1 |
| 0F.4 | `metrics-basic` | åŸºæœ¬ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | Medium | Draft | - |
| 0F.5 | `health-check` | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | High | Done | - |
| 0F.6 | `health-readiness` | Readiness Probe | Medium | Done | 0F.5 |

### 0G: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 0G.1 | `worker-framework` | ãƒ¯ãƒ¼ã‚«ãƒ¼åŸºç›¤ | Medium | Draft | - |
| 0G.2 | `job-session-cleanup` | æœŸé™åˆ‡ã‚Œã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤ | Medium | Draft | 0G.1 |
| 0G.3 | `job-trash-cleanup` | ã‚´ãƒŸç®±è‡ªå‹•å‰Šé™¤ï¼ˆ30æ—¥ï¼‰ | Medium | Draft | 0G.1 |
| 0G.4 | `job-upload-cleanup` | æœªå®Œäº†ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‰Šé™¤ | Medium | Draft | 0G.1, 0C.7 |
| 0G.5 | `job-invitation-expire` | æœŸé™åˆ‡ã‚Œæ‹›å¾…å‡¦ç† | Low | Draft | 0G.1 |
| 0G.6 | `job-share-link-expire` | æœŸé™åˆ‡ã‚Œå…±æœ‰ãƒªãƒ³ã‚¯å‡¦ç† | Low | Draft | 0G.1 |
| 0G.7 | `job-storage-cleanup` | å­¤ç«‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å‰Šé™¤ | Low | Draft | 0G.1, 0C.12 |

### Phase 0 å®Ÿè£…é †åº

```
1. 0A.1 â†’ 0A.2 â†’ 0A.3 â†’ 0A.4  (Database)
2. 0B.1 â†’ 0B.2                  (Redis Session)
3. 0C.1 â†’ 0C.2 â†’ 0C.3 â†’ 0C.4  (MinIO Basic)
4. 0E.1 â†’ 0E.2 â†’ 0E.4 â†’ 0E.5  (API Base)
5. 0F.1 â†’ 0F.2 â†’ 0F.5          (Logging)
6. 0D.1 â†’ 0D.2                  (Email Base)
7. æ®‹ã‚Šã‚’é †æ¬¡å®Ÿè£…
```

---

## Phase 1: Identity Contextï¼ˆèªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼‰

> **ä¾å­˜é–¢ä¿‚**: ãªã—ï¼ˆåŸºç›¤ï¼‰
> **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `03-domains/user.md`

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [auth-identity.md](./auth-identity.md)

### ä»•æ§˜ä¸€è¦§

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 1.1 | `auth-register` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² | High | Done | - |
| 1.2 | `auth-login` | ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ­ã‚°ã‚¤ãƒ³ | High | Done | 1.1 |
| 1.3 | `auth-oauth` | OAuthèªè¨¼ï¼ˆGoogle/GitHubï¼‰ | High | Done | 1.1 |
| 1.4 | `auth-logout` | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ | High | Done | 1.2 |
| 1.5 | `auth-refresh` | ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ | High | Done | 1.2 |
| 1.6 | `auth-email-verify` | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèª | Medium | Done | 1.1 |
| 1.7 | `auth-password-reset` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ | Medium | Done | 1.1 |
| 1.8 | `auth-password-change` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ | Medium | Done | 1.2 |
| 1.9 | `user-profile` | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç† | Medium | Draft | 1.2 |
| 1.10 | `user-session-list` | ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¸€è¦§ãƒ»ç®¡ç† | Low | Draft | 1.2 |
| 1.11 | `user-oauth-link` | OAuthé€£æºç®¡ç† | Low | Draft | 1.3 |
| 1.12 | `user-deactivate` | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ– | Low | Draft | 1.2 |

### ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

```
User â”€â”¬â”€ OAuthAccount (1:N)
      â”œâ”€ Session (1:N, max 10)
      â”œâ”€ UserProfile (1:1)
      â””â”€ personal_folder_id â†’ Folder (1:1ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ™‚ã«è‡ªå‹•ä½œæˆ)
```

### é‡è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«

- email ã¯ä¸€æ„
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ or OAuth ã®å°‘ãªãã¨ã‚‚1ã¤ãŒå¿…é ˆ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯æœ€å¤§10å€‹ï¼ˆå¤ã„ã‚‚ã®ã‹ã‚‰è‡ªå‹•å¤±åŠ¹ï¼‰
- status: pending â†’ active â†’ suspended/deactivated
- Userã¨Personal Folderã¯å¿…ãš1å¯¾1ã®é–¢ä¿‚
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ™‚ã«Personal Folderã‚’è‡ªå‹•ä½œæˆ

---

## Phase 2: Storage Contextï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†ï¼‰

> **ä¾å­˜é–¢ä¿‚**: Identity Context
> **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `03-domains/file.md`, `03-domains/folder.md`

ğŸ“„ **è©³ç´°è¨­è¨ˆ**:
- [storage-folder.md](./storage-folder.md) - ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†ï¼ˆé–‰åŒ…ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚ˆã‚‹éšå±¤æ§‹é€ ï¼‰
- [storage-file.md](./storage-file.md) - ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ï¼ˆPresigned URLã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼‰

### 2A: ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [storage-folder.md](./storage-folder.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 2A.1 | `folder-create` | ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ | High | Draft | 1.2 |
| 2A.2 | `folder-list` | ãƒ•ã‚©ãƒ«ãƒ€ä¸€è¦§ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | High | Draft | 2A.1 |
| 2A.3 | `folder-rename` | ãƒ•ã‚©ãƒ«ãƒ€åå¤‰æ›´ | Medium | Draft | 2A.1 |
| 2A.4 | `folder-move` | ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹• | Medium | Draft | 2A.1 |
| 2A.5 | `folder-trash` | ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚´ãƒŸç®±ã¸ | Medium | Draft | 2A.1 |
| 2A.6 | `folder-restore` | ã‚´ãƒŸç®±ã‹ã‚‰å¾©å…ƒ | Medium | Draft | 2A.5 |
| 2A.7 | `folder-delete` | å®Œå…¨å‰Šé™¤ | Low | Draft | 2A.5 |

### 2B: ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [storage-file.md](./storage-file.md)

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 2B.1 | `file-upload` | ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆå˜ä¸€ï¼‰ | High | Draft | 2A.1 |
| 2B.2 | `file-upload-multipart` | å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | High | Draft | 2B.1 |
| 2B.3 | `file-download` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | High | Draft | 2B.1 |
| 2B.4 | `file-list` | ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ | High | Draft | 2A.2 |
| 2B.5 | `file-preview` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Medium | Draft | 2B.1 |
| 2B.6 | `file-rename` | ãƒ•ã‚¡ã‚¤ãƒ«åå¤‰æ›´ | Medium | Draft | 2B.1 |
| 2B.7 | `file-move` | ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹• | Medium | Draft | 2B.1 |
| 2B.8 | `file-copy` | ãƒ•ã‚¡ã‚¤ãƒ«ã‚³ãƒ”ãƒ¼ | Medium | Draft | 2B.1 |
| 2B.9 | `file-trash` | ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚´ãƒŸç®±ã¸ | Medium | Draft | 2B.1 |
| 2B.10 | `file-restore` | ã‚´ãƒŸç®±ã‹ã‚‰å¾©å…ƒ | Medium | Draft | 2B.9 |
| 2B.11 | `file-delete` | å®Œå…¨å‰Šé™¤ | Low | Draft | 2B.9 |
| 2B.12 | `file-version-list` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§ | Medium | Draft | 2B.1 |
| 2B.13 | `file-version-restore` | ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¾©å…ƒ | Medium | Draft | 2B.12 |
| 2B.14 | `file-search` | ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ | Medium | Draft | 2B.4 |
| 2B.15 | `file-metadata` | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾— | Low | Draft | 2B.1 |

### 2C: ã‚´ãƒŸç®±ç®¡ç†

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 2C.1 | `trash-list` | ã‚´ãƒŸç®±ä¸€è¦§ | Medium | Draft | 2A.5, 2B.9 |
| 2C.2 | `trash-empty` | ã‚´ãƒŸç®±ã‚’ç©ºã«ã™ã‚‹ | Low | Draft | 2C.1 |
| 2C.3 | `trash-auto-cleanup` | è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆ30æ—¥ï¼‰ | Low | Draft | 2C.1 |

### ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

```
Folder â”€â”¬â”€ parent_id â†’ Folder (è‡ªå·±å‚ç…§)
        â”œâ”€ owner_id â†’ User (ç¾åœ¨ã®æ‰€æœ‰è€…)
        â””â”€ created_by â†’ User (æœ€åˆã®ä½œæˆè€…ã€ä¸å¤‰)

File â”€â”¬â”€ folder_id â†’ Folder (å¿…é ˆã€NOT NULL)
      â”œâ”€ owner_id â†’ User (ç¾åœ¨ã®æ‰€æœ‰è€…)
      â”œâ”€ created_by â†’ User (æœ€åˆã®ä½œæˆè€…ã€ä¸å¤‰)
      â”œâ”€ FileVersion (1:N)
      â”œâ”€ FileMetadata (1:1)
      â””â”€ UploadSession (1:N)

User â”€â”€â”€â”€ personal_folder_id â†’ Folder (1:1ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ™‚ã«è‡ªå‹•ä½œæˆ)
```

### é‡è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«

- åŒä¸€ãƒ•ã‚©ãƒ«ãƒ€å†…ã§ãƒ•ã‚¡ã‚¤ãƒ«åãƒ»ãƒ•ã‚©ãƒ«ãƒ€åã¯ä¸€æ„
- ãƒ•ã‚©ãƒ«ãƒ€ã®æœ€å¤§æ·±ã•ã¯20
- å¾ªç’°å‚ç…§é˜²æ­¢ï¼ˆãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•æ™‚ï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: pending â†’ active â†’ trashed â†’ deleted
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯é€£ç•ªã€æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯å‰Šé™¤ä¸å¯

---

## Phase 3: Collaboration Contextï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ãƒ»ãƒãƒ¼ãƒ å”èª¿ï¼‰

> **ä¾å­˜é–¢ä¿‚**: Identity Context, Storage Context
> **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `03-domains/group.md`

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [collab-group.md](./collab-group.md)

### 3A: ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 3A.1 | `group-create` | ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ | High | Draft | 1.2 |
| 3A.2 | `group-list` | æ‰€å±ã‚°ãƒ«ãƒ¼ãƒ—ä¸€è¦§ | High | Draft | 3A.1 |
| 3A.3 | `group-detail` | ã‚°ãƒ«ãƒ¼ãƒ—è©³ç´°è¡¨ç¤º | High | Draft | 3A.1 |
| 3A.4 | `group-update` | ã‚°ãƒ«ãƒ¼ãƒ—æƒ…å ±æ›´æ–° | Medium | Draft | 3A.1 |
| 3A.5 | `group-delete` | ã‚°ãƒ«ãƒ¼ãƒ—å‰Šé™¤ | Low | Draft | 3A.1 |
| 3A.6 | `group-ownership-transfer` | ã‚ªãƒ¼ãƒŠãƒ¼æ¨©é™è­²æ¸¡ | Low | Draft | 3A.1 |

### 3B: ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 3B.1 | `member-invite` | ãƒ¡ãƒ³ãƒãƒ¼æ‹›å¾… | High | Draft | 3A.1 |
| 3B.2 | `member-accept` | æ‹›å¾…æ‰¿è«¾ | High | Draft | 3B.1 |
| 3B.3 | `member-decline` | æ‹›å¾…è¾é€€ | Medium | Draft | 3B.1 |
| 3B.4 | `member-list` | ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ | High | Draft | 3A.1 |
| 3B.5 | `member-remove` | ãƒ¡ãƒ³ãƒãƒ¼å‰Šé™¤ | Medium | Draft | 3B.4 |
| 3B.6 | `member-leave` | ã‚°ãƒ«ãƒ¼ãƒ—è„±é€€ | Medium | Draft | 3B.4 |
| 3B.7 | `member-role-change` | ãƒ­ãƒ¼ãƒ«å¤‰æ›´ | Medium | Draft | 3B.4 |
| 3B.8 | `invitation-list` | æ‹›å¾…ä¸€è¦§ | Low | Draft | 3B.1 |
| 3B.9 | `invitation-cancel` | æ‹›å¾…å–æ¶ˆ | Low | Draft | 3B.8 |

### ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

```
Group â”€â”¬â”€ owner_id â†’ User
       â”œâ”€ Membership (1:N)
       â””â”€ Invitation (1:N)

Membership â”€â”€â”€ user_id â†’ User
               role: viewer | contributor | owner

Invitation â”€â”€â”€ email, token, expires_at
               status: pending | accepted | declined | expired
```

### é‡è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«

- ã‚°ãƒ«ãƒ¼ãƒ—ã«ã¯å¿…ãš1äººã® owner ãŒå­˜åœ¨
- owner ã¯ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰è„±é€€ä¸å¯ï¼ˆè­²æ¸¡ãŒå¿…è¦ï¼‰
- owner ãƒ­ãƒ¼ãƒ«ã§ã®æ‹›å¾…ã¯ä¸å¯ï¼ˆæ‰€æœ‰æ¨©è­²æ¸¡ã§ä»˜ä¸ï¼‰
- æ‹›å¾…æ™‚ã¯è‡ªåˆ†ã®ãƒ­ãƒ¼ãƒ«ä»¥ä¸‹ã®ã¿ä»˜ä¸å¯èƒ½
- åŒä¸€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯åŒä¸€ã‚°ãƒ«ãƒ¼ãƒ—ã«1ã¤ã® Membership ã®ã¿
- æ‹›å¾…ãƒˆãƒ¼ã‚¯ãƒ³ã¯7æ—¥é–“æœ‰åŠ¹
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ‹›å¾…ãƒ­ãƒ¼ãƒ«ã¯ Viewer

---

## Phase 2-3: Authorization Contextï¼ˆæ¨©é™ç®¡ç†ï¼‰

> **ä¾å­˜é–¢ä¿‚**: Identity Context, Storage Context, Collaboration Context
> **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `03-domains/permission.md`

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [authz-permission.md](./authz-permission.md)

### æ¨©é™ç®¡ç†

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| P.1 | `permission-grant` | æ¨©é™ä»˜ä¸ | High | Draft | 2A.1, 2B.1 |
| P.2 | `permission-revoke` | æ¨©é™å–æ¶ˆ | High | Draft | P.1 |
| P.3 | `permission-list` | æ¨©é™ä¸€è¦§è¡¨ç¤º | Medium | Draft | P.1 |
| P.4 | `permission-check` | ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™åˆ¤å®š | High | Draft | P.1 |
| P.5 | `permission-inherit` | æ¨©é™ç¶™æ‰¿è§£æ±º | High | Draft | P.1, 2A.4 |

### èªå¯ãƒ¢ãƒ‡ãƒ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PBAC + ReBAC Hybrid Model                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Permission = {resource}:{action}                               â”‚
â”‚  ä¾‹: file:read, folder:write, file:move_in, file:move_out       â”‚
â”‚                                                                  â”‚
â”‚  Role = Permission ã®é›†åˆ                                        â”‚
â”‚  â€¢ viewer: file:read, folder:read                               â”‚
â”‚  â€¢ contributor: viewer + write, move_in, share                  â”‚
â”‚  â€¢ content_manager: contributor + move_out                      â”‚
â”‚  â€¢ owner: content_manager + root:delete                         â”‚
â”‚                                                                  â”‚
â”‚  Relationship Tuple (ReBAC)                                      â”‚
â”‚  (subject_type, subject_id, relation, object_type, object_id)   â”‚
â”‚  ä¾‹: (user, u1, owner, folder, f1)                              â”‚
â”‚      (group, g1, viewer, file, f2)                              â”‚
â”‚      (folder, f1, parent, folder, f2)                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨©é™è§£æ±ºãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªã‚½ãƒ¼ã‚¹ã«æ“ä½œã‚’è¦æ±‚
2. ä»¥ä¸‹ã®çµŒè·¯ã‹ã‚‰ Permission ã‚’åé›†:
   a. ç›´æ¥ä»˜ä¸ã•ã‚ŒãŸ Permission
   b. Role çµŒç”±ã® Permission
   c. è¦ªãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ã®ç¶™æ‰¿ Permission
   d. ã‚°ãƒ«ãƒ¼ãƒ—ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—çµŒç”±ã® Permission
3. è¦æ±‚ã•ã‚ŒãŸ Permission ãŒåé›†ã‚»ãƒƒãƒˆã«å«ã¾ã‚Œã‚‹ã‹åˆ¤å®š
4. è¨±å¯ or æ‹’å¦
```

---

## Phase 4: Sharing Contextï¼ˆå…±æœ‰æ©Ÿèƒ½ï¼‰

> **ä¾å­˜é–¢ä¿‚**: Storage Context, Authorization Context
> **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: `03-domains/sharing.md`

ğŸ“„ **è©³ç´°è¨­è¨ˆ**: [share-link.md](./share-link.md)

### å…±æœ‰ãƒªãƒ³ã‚¯ç®¡ç†

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 4.1 | `share-link-create` | å…±æœ‰ãƒªãƒ³ã‚¯ä½œæˆ | High | Draft | 2B.1, P.1 |
| 4.2 | `share-link-access` | å…±æœ‰ãƒªãƒ³ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ | High | Draft | 4.1 |
| 4.3 | `share-link-list` | å…±æœ‰ãƒªãƒ³ã‚¯ä¸€è¦§ | Medium | Draft | 4.1 |
| 4.4 | `share-link-update` | å…±æœ‰ãƒªãƒ³ã‚¯è¨­å®šå¤‰æ›´ | Medium | Draft | 4.1 |
| 4.5 | `share-link-revoke` | å…±æœ‰ãƒªãƒ³ã‚¯ç„¡åŠ¹åŒ– | Medium | Draft | 4.1 |
| 4.6 | `share-link-password` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·è¨­å®š | Medium | Draft | 4.1 |
| 4.7 | `share-link-expiry` | æœ‰åŠ¹æœŸé™è¨­å®š | Medium | Draft | 4.1 |
| 4.8 | `share-link-access-log` | ã‚¢ã‚¯ã‚»ã‚¹å±¥æ­´ | Low | Draft | 4.2 |

### ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£

```
ShareLink â”€â”¬â”€ resource_id â†’ File/Folder
           â”œâ”€ created_by â†’ User
           â””â”€ ShareLinkAccess (1:N, ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°)

ShareLink.permission: read | write
ShareLink.status: active | revoked | expired
```

### é‡è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«

- token ã¯ URL-safeã€32æ–‡å­—ä»¥ä¸Š
- expires_at åˆ°é”ã§ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
- max_access_count åˆ°é”ã§ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿è­·ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- ã‚¢ã‚¯ã‚»ã‚¹å±¥æ­´ã¯ç›£æŸ»ç›®çš„ã§è¨˜éŒ²

---

## Phase 5: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

> **ä¾å­˜é–¢ä¿‚**: Phase 0ã€œ4 ã® API å®Œæˆå¾Œ
> **ç›®çš„**: React SPA ã®å®Ÿè£…

ğŸ“„ **è©³ç´°è¨­è¨ˆ**:
- [fe-foundation.md](./fe-foundation.md) - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åŸºç›¤ï¼ˆAPIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€èªè¨¼ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
- [fe-auth-pages.md](./fe-auth-pages.md) - èªè¨¼ç”»é¢ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã€ç™»éŒ²ã€OAuthã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆï¼‰
- [fe-file-browser.md](./fe-file-browser.md) - ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ç”»é¢ï¼ˆä¸€è¦§ã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
- [fe-api-integration.md](./fe-api-integration.md) - APIé€£æºä»•æ§˜ï¼ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ï¼‰
- [fe-routing.md](./fe-routing.md) - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä»•æ§˜
- [fe-state-management.md](./fe-state-management.md) - çŠ¶æ…‹ç®¡ç†ä»•æ§˜
- [fe-openapi-typegen.md](./fe-openapi-typegen.md) - OpenAPIå‹ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ä»•æ§˜

### 5A: å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»åŸºç›¤

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 5A.1 | `fe-api-client` | APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š | High | Ready | 0E |
| 5A.2 | `fe-auth-context` | èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | High | Ready | 5A.1 |
| 5A.3 | `fe-router-setup` | TanStack Routerè¨­å®š | High | Ready | - |
| 5A.4 | `fe-ui-components` | å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | High | Ready | - |
| 5A.5 | `fe-error-boundary` | ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª | Medium | Ready | 5A.4 |
| 5A.6 | `fe-loading-states` | ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç®¡ç† | Medium | Ready | 5A.4 |
| 5A.7 | `fe-openapi-typegen` | OpenAPIå‹ç”Ÿæˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ | High | Ready | 0E |

### 5B: èªè¨¼ç”»é¢

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 5B.1 | `fe-login-page` | ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ | High | Ready | 5A.2 |
| 5B.2 | `fe-register-page` | æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ | High | Ready | 5A.2 |
| 5B.3 | `fe-oauth-callback` | OAuthã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ | High | Ready | 5B.1 |
| 5B.4 | `fe-password-reset` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆç”»é¢ | Medium | Ready | 5A.2 |

### 5C: ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ç”»é¢

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 5C.1 | `fe-file-browser` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ | High | Ready | 5A.3 |
| 5C.2 | `fe-file-upload` | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰UI | High | Ready | 5C.1 |
| 5C.3 | `fe-file-preview` | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ€ãƒ« | Medium | Draft | 5C.1 |
| 5C.4 | `fe-file-context-menu` | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Medium | Ready | 5C.1 |
| 5C.5 | `fe-drag-drop` | ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ— | Medium | Ready | 5C.1 |
| 5C.6 | `fe-trash-view` | ã‚´ãƒŸç®±ãƒ“ãƒ¥ãƒ¼ | Low | Draft | 5C.1 |

### 5D: ã‚°ãƒ«ãƒ¼ãƒ—ãƒ»å…±æœ‰ç”»é¢

| # | ä»•æ§˜ID | æ©Ÿèƒ½å | å„ªå…ˆåº¦ | çŠ¶æ…‹ | ä¾å­˜ |
|---|--------|--------|--------|------|------|
| 5D.1 | `fe-group-list` | ã‚°ãƒ«ãƒ¼ãƒ—ä¸€è¦§ | Medium | Draft | 5A.3 |
| 5D.2 | `fe-group-detail` | ã‚°ãƒ«ãƒ¼ãƒ—è©³ç´° | Medium | Draft | 5D.1 |
| 5D.3 | `fe-member-manage` | ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†UI | Medium | Draft | 5D.2 |
| 5D.4 | `fe-share-dialog` | å…±æœ‰ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | Medium | Draft | 5C.1 |
| 5D.5 | `fe-share-link-view` | å…±æœ‰ãƒªãƒ³ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ç”»é¢ | Medium | Draft | - |

---

## ä»•æ§˜ã‚µãƒãƒªãƒ¼

### ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ä»•æ§˜æ•°

| ãƒ•ã‚§ãƒ¼ã‚º | ã‚«ãƒ†ã‚´ãƒªæ•° | ä»•æ§˜æ•° | çŠ¶æ…‹ |
|---------|----------|--------|------|
| Phase 0 | 7 | 47 | Draft |
| Phase 1 | 1 | 12 | Draft |
| Phase 2 | 3 | 25 | Draft |
| Phase 3 | 2 | 15 | Draft |
| Phase 2-3 | 1 | 5 | Draft |
| Phase 4 | 1 | 8 | Draft |
| Phase 5 | 4 | 21 | Draft |
| **åˆè¨ˆ** | **19** | **133** | - |

---

## å®Ÿè£…å„ªå…ˆåº¦ãƒãƒˆãƒªã‚¯ã‚¹

```
                        é‡è¦åº¦
                    é«˜          ä½
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           é«˜  â”‚  P0     â”‚   P1    â”‚
    ç·Šæ€¥åº¦     â”‚ åŸºç›¤    â”‚  èªè¨¼   â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           ä½  â”‚  P2     â”‚   P3    â”‚
               â”‚ Storage â”‚ Share   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

P0 (åŸºç›¤):     db-connection, minio-connection, redis-connection, api-router
P1 (èªè¨¼):     auth-register, auth-login, minio-presigned-*, email-verification
P2 (Storage):  folder-create, file-upload, file-download, permission-check
P3 (Share):    group-create, member-invite, share-link-create
```

### ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹

```
db-connection â†’ db-repository-base â”€â”
                                    â”‚
redis-connection â†’ redis-session â”€â”€â”€â”¼â”€â†’ api-middleware-auth â†’ auth-register
                                    â”‚
minio-connection â†’ minio-bucket â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â†’ minio-presigned-put â”€â†’ file-upload
         â””â”€â†’ minio-presigned-get â”€â†’ file-download
```

---

## ä»•æ§˜æ›¸ä½œæˆã®é€²ã‚æ–¹

### 1. ä»•æ§˜æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

å„ä»•æ§˜æ›¸ã¯ `04-specs/README.md` ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¾“ã£ã¦ä½œæˆã—ã¾ã™ã€‚

### 2. å‘½åè¦å‰‡

```
{category}-{feature}.md

ä¾‹:
- db-connection.md
- minio-presigned-put.md
- auth-register.md
- file-upload.md
- fe-file-browser.md
```

### 3. ä½œæˆé †åºï¼ˆæ¨å¥¨ï¼‰

```
Phase 0ï¼ˆåŸºç›¤ï¼‰
â”œâ”€ 0A: db-connection â†’ db-transaction â†’ db-repository-base
â”œâ”€ 0B: redis-connection â†’ redis-session-store
â”œâ”€ 0C: minio-connection â†’ minio-bucket-setup â†’ minio-presigned-put/get
â”œâ”€ 0D: smtp-connection â†’ email-template
â”œâ”€ 0E: api-router â†’ api-middleware-auth â†’ api-error-response
â””â”€ 0F: log-structured â†’ log-request

Phase 1ï¼ˆèªè¨¼ï¼‰
â”œâ”€ auth-register â†’ auth-email-verify
â”œâ”€ auth-login â†’ auth-refresh â†’ auth-logout
â””â”€ auth-oauth

Phase 2ï¼ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
â”œâ”€ folder-create â†’ folder-list
â”œâ”€ file-upload â†’ file-upload-multipart â†’ file-download
â””â”€ file-list â†’ file-preview

Phase 3ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ï¼‰
â”œâ”€ group-create â†’ group-list
â””â”€ member-invite â†’ member-accept

Phase 4ï¼ˆå…±æœ‰ï¼‰
â””â”€ share-link-create â†’ share-link-access

Phase 5ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
â”œâ”€ fe-api-client â†’ fe-auth-context
â”œâ”€ fe-login-page â†’ fe-register-page
â””â”€ fe-file-browser â†’ fe-file-upload
```

### 4. ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹

```
Draft â†’ Review â†’ Ready â†’ In Progress â†’ Done
  â”‚        â”‚       â”‚          â”‚         â”‚
  â””â”€ ä½œæˆä¸­  â””â”€ ãƒ¬ãƒ“ãƒ¥ãƒ¼  â””â”€ å®Ÿè£…å¯èƒ½  â””â”€ å®Ÿè£…ä¸­  â””â”€ å®Œäº†
```

### 5. ä¾å­˜é–¢ä¿‚ã®ç¢ºèª

ä»•æ§˜æ›¸ä½œæˆå‰ã«ã€ä¾å­˜ã™ã‚‹ä»•æ§˜ãŒ Ready ã¾ãŸã¯ Done ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯

### ãƒ‰ãƒ¡ã‚¤ãƒ³å‚ç…§

| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ | ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ« | ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾© |
|-------------|-----------------|-------------|
| Identity | [user.md](../03-domains/user.md) | EVENT_STORMING Â§2.1 |
| Storage | [file.md](../03-domains/file.md), [folder.md](../03-domains/folder.md) | EVENT_STORMING Â§2.2 |
| Authorization | [permission.md](../03-domains/permission.md) | EVENT_STORMING Â§2.3 |
| Sharing | [sharing.md](../03-domains/sharing.md) | EVENT_STORMING Â§2.4 |
| Collaboration | [group.md](../03-domains/group.md) | EVENT_STORMING Â§2.5 |

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å‚ç…§

| ã‚«ãƒ†ã‚´ãƒª | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å‚ç…§ãƒã‚¤ãƒ³ãƒˆ |
|---------|------------|-------------|
| ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ | [SYSTEM.md](../02-architecture/SYSTEM.md) | ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | [BACKEND.md](../02-architecture/BACKEND.md) | Clean Architectureã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | [FRONTEND.md](../02-architecture/FRONTEND.md) | Reactè¨­è¨ˆã€çŠ¶æ…‹ç®¡ç† |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | [DATABASE.md](../02-architecture/DATABASE.md) | ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ |
| API | [API.md](../02-architecture/API.md) | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¦ç´„ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | [SECURITY.md](../02-architecture/SECURITY.md) | èªè¨¼ãƒ»èªå¯ã€JWTè¨­è¨ˆ |

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å‚ç…§

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
|---------|------|-----------------|
| Database | PostgreSQL 16 | https://www.postgresql.org/docs/16/ |
| Cache | Redis 7 | https://redis.io/docs/ |
| Storage | MinIO | https://min.io/docs/minio/linux/developers/go/API.html |
| Backend | Echo v4 | https://echo.labstack.com/docs |
| Frontend | React 19 | https://react.dev/ |
| Router | TanStack Router | https://tanstack.com/router/latest |
| Query | TanStack Query | https://tanstack.com/query/latest |

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Phase 0** ã‹ã‚‰é †æ¬¡ä»•æ§˜æ›¸ã‚’ä½œæˆ
2. å„ä»•æ§˜æ›¸ã¯å®Ÿè£…å¯èƒ½ãªç²’åº¦ã§è¨­è¨ˆï¼ˆ1ä»•æ§˜ â‰’ 1PRï¼‰
3. ä¾å­˜ã™ã‚‹ä»•æ§˜ãŒ Ready ã«ãªã£ã¦ã‹ã‚‰ç€æ‰‹
4. å®Ÿè£…å‰ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ‰¿èªã‚’å¾—ã‚‹
5. å®Ÿè£…å®Œäº†å¾Œã€Done ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«æ›´æ–°

### æ¨å¥¨é–‹å§‹ãƒã‚¤ãƒ³ãƒˆ

æœ€åˆã«ä½œæˆã™ã¹ãä»•æ§˜æ›¸:
1. `db-connection.md` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šåŸºç›¤
2. `minio-connection.md` - MinIOæ¥ç¶šåŸºç›¤
3. `redis-connection.md` - Redisæ¥ç¶šåŸºç›¤
4. `api-router.md` - APIãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°åŸºç›¤

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ä»•æ§˜æ›¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ](./README.md) - ä»•æ§˜æ›¸ã®æ›¸ãæ–¹
- [ãƒ‰ãƒ¡ã‚¤ãƒ³å®šç¾©](../03-domains/README.md) - ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«
- [ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°](../03-domains/EVENT_STORMING.md) - ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](../02-architecture/) - æŠ€è¡“è¨­è¨ˆ
- [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„](../01-policies/CODING_STANDARDS.md) - å‘½åè¦å‰‡
- [ãƒ†ã‚¹ãƒˆæ–¹é‡](../01-policies/TESTING.md) - ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
