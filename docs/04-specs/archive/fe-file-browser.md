# ファイルブラウザ仕様書

## 概要

本ドキュメントでは、GC Storageのファイルブラウザ画面の要件を定義します。ファイル・フォルダの一覧表示、アップロード、コンテキストメニュー、ドラッグ&ドロップなどの機能を含みます。

**関連仕様:**
- [fe-foundation.md](./fe-foundation.md) - フロントエンド基盤
- [storage-folder.md](./storage-folder.md) - フォルダバックエンド仕様
- [storage-file.md](./storage-file.md) - ファイルバックエンド仕様

**デザイン方針:**
- モダンで洗練されたUIを目指す
- Google Drive、Dropbox、Notionなどの先進的なクラウドサービスを参考に
- 余白を適切に活用し、視覚的に整理された画面構成
- スムーズなアニメーションとトランジション
- 一貫したデザインシステムに基づくコンポーネント

---

## 1. 画面一覧

| 画面 | パス | 説明 |
|------|------|------|
| マイファイル | `/files` | ルートフォルダ（パーソナルフォルダ）の内容 |
| フォルダ詳細 | `/files/:folderId` | 指定フォルダの内容 |
| ゴミ箱 | `/trash` | 削除されたファイル/フォルダ |

---

## 2. ファイルブラウザ画面

### 2.1 ユーザーストーリー

> ユーザーとして、ファイルとフォルダを一覧表示し、アップロード・整理・削除などの操作を行いたい。これにより、クラウド上のファイルを効率的に管理できる。

### 2.2 画面レイアウト

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ┌──────────────────────────────────────────────────────────────────────────┐│
│ │ Header                                                             [?] [U]││
│ └──────────────────────────────────────────────────────────────────────────┘│
│ ┌────────┐ ┌──────────────────────────────────────────────────────────────┐ │
│ │        │ │ ┌────────────────────────────────────────────────────────┐  │ │
│ │        │ │ │ Home > Documents > Projects                    [検索]  │  │ │
│ │ Sidebar│ │ └────────────────────────────────────────────────────────┘  │ │
│ │        │ │ ┌────────────────────────────────────────────────────────┐  │ │
│ │ [Files]│ │ │ [+ New] [Upload]              [Grid|List] [Sort ▼]    │  │ │
│ │ [Star] │ │ └────────────────────────────────────────────────────────┘  │ │
│ │ [Recent│ │                                                            │ │
│ │ [Shared│ │ ┌──────────────────────────────────────────────────────┐  │ │
│ │ [Groups│ │ │                                                      │  │ │
│ │ [Trash]│ │ │   [Folder]       [Folder]       [Folder]             │  │ │
│ │        │ │ │   Documents      Images         Projects             │  │ │
│ │        │ │ │                                                      │  │ │
│ │        │ │ │   [File]         [File]         [File]               │  │ │
│ │        │ │ │   report.pdf     notes.txt      photo.jpg            │  │ │
│ │        │ │ │                                                      │  │ │
│ │        │ │ └──────────────────────────────────────────────────────┘  │ │
│ └────────┘ └──────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| FB-01 | フォルダ内容表示 | 現在のフォルダ内のファイルとサブフォルダを一覧表示する | 必須 |
| FB-02 | パンくずリスト | 現在の階層パスを表示し、各階層へナビゲートできる | 必須 |
| FB-03 | グリッド表示 | アイテムをグリッド形式で表示する | 必須 |
| FB-04 | リスト表示 | アイテムをテーブル形式で表示する | 必須 |
| FB-05 | 表示モード切替 | グリッド/リスト表示を切り替えられる | 必須 |
| FB-06 | ソート | 名前/更新日時/サイズ/種類でソートできる | 必須 |
| FB-07 | フォルダ移動 | フォルダをダブルクリックで開ける | 必須 |
| FB-08 | 空フォルダ表示 | フォルダが空の場合、案内メッセージを表示する | 必須 |
| FB-09 | ローディング | 読み込み中はローディング表示を行う | 必須 |
| FB-10 | エラー表示 | 取得失敗時はエラーメッセージとリトライボタンを表示 | 必須 |

---

## 3. パンくずリスト

### 3.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| BC-01 | ルート表示 | "マイファイル" または "My Files" をルートとして表示 | 必須 |
| BC-02 | パス表示 | 現在のフォルダまでの階層パスを表示する | 必須 |
| BC-03 | クリックナビ | 各パス要素をクリックで該当フォルダへ移動 | 必須 |
| BC-04 | セパレータ | パス要素間にセパレータ（>）を表示 | 必須 |

### 3.2 レイアウト

```
┌────────────────────────────────────────────────────────────────┐
│ [Home icon] My Files > Documents > Projects > 2024            │
└────────────────────────────────────────────────────────────────┘

[Home icon] My Files   ← クリックでルートフォルダへ
         >             ← セパレータ
         Documents     ← クリックでDocumentsフォルダへ
         >
         Projects      ← クリックでProjectsフォルダへ
         >
         2024          ← 現在地（リンクなし または スタイル区別）
```

---

## 4. ツールバー

### 4.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| TB-01 | 新規フォルダ作成 | ダイアログを開いて新規フォルダを作成できる | 必須 |
| TB-02 | アップロードボタン | ファイル選択ダイアログを開いてアップロードできる | 必須 |
| TB-03 | 表示モード切替 | グリッド/リストアイコンボタンで表示切替 | 必須 |
| TB-04 | ソートメニュー | ドロップダウンでソート条件を選択 | 必須 |
| TB-05 | 選択時アクション | アイテム選択時は一括操作ボタンを表示 | 推奨 |

### 4.2 レイアウト

**通常時:**
```
┌────────────────────────────────────────────────────────────────┐
│ [+ New Folder] [Upload]                   [Grid|List] [Sort▼] │
└────────────────────────────────────────────────────────────────┘
```

**選択時:**
```
┌────────────────────────────────────────────────────────────────┐
│ 3 items selected [Download] [Move] [Delete]   [Grid|List] [Sort▼] │
└────────────────────────────────────────────────────────────────┘
```

### 4.3 ソートオプション

| ソート項目 | 説明 |
|-----------|------|
| 名前 | アルファベット順（A-Z / Z-A） |
| 更新日時 | 新しい順 / 古い順 |
| サイズ | 大きい順 / 小さい順 |
| 種類 | ファイルタイプ順 |

---

## 5. ファイル一覧表示

### 5.1 グリッド表示

#### 5.1.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| GV-01 | グリッドレイアウト | レスポンシブなグリッドでアイテムを配置 | 必須 |
| GV-02 | フォルダ優先 | フォルダをファイルより先に表示 | 必須 |
| GV-03 | サムネイル表示 | 画像ファイルはサムネイルを表示 | 推奨 |
| GV-04 | ファイルアイコン | ファイルタイプに応じたアイコンを表示 | 必須 |
| GV-05 | ファイル名表示 | アイテム名を表示（長い場合は省略） | 必須 |
| GV-06 | ファイルサイズ | ファイルのサイズを表示 | 推奨 |

#### 5.1.2 レイアウト

```
┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐
│           │  │           │  │           │  │           │
│  [Folder] │  │  [Folder] │  │  [Image]  │  │  [PDF]    │
│           │  │           │  │           │  │           │
│ Documents │  │  Images   │  │ photo.jpg │  │report.pdf │
│           │  │           │  │   1.2 MB  │  │   456 KB  │
└───────────┘  └───────────┘  └───────────┘  └───────────┘
```

### 5.2 リスト表示

#### 5.2.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| LV-01 | テーブル形式 | ヘッダー付きテーブルで表示 | 必須 |
| LV-02 | チェックボックス | 各行にチェックボックスを配置 | 必須 |
| LV-03 | 全選択 | ヘッダーのチェックボックスで全選択/解除 | 必須 |
| LV-04 | 列表示 | 名前、更新日時、サイズを列として表示 | 必須 |
| LV-05 | ソート可能列 | 列ヘッダークリックでその列でソート | 推奨 |

#### 5.2.2 レイアウト

```
┌──────────────────────────────────────────────────────────────────┐
│ [x] │ Name                    │ Modified        │ Size          │
├──────────────────────────────────────────────────────────────────┤
│ [ ] │ [Folder] Documents      │ Jan 15, 2024    │ —             │
│ [ ] │ [Folder] Images         │ Jan 10, 2024    │ —             │
│ [ ] │ [File]   report.pdf     │ Jan 20, 2024    │ 456 KB        │
│ [ ] │ [Image]  photo.jpg      │ Jan 18, 2024    │ 1.2 MB        │
└──────────────────────────────────────────────────────────────────┘
```

---

## 6. アイテム選択

### 6.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| SEL-01 | 単一選択 | クリックで1つのアイテムを選択 | 必須 |
| SEL-02 | 複数選択 | Ctrl/Cmd + クリックで複数選択 | 必須 |
| SEL-03 | 範囲選択 | Shift + クリックで範囲選択 | 推奨 |
| SEL-04 | 全選択 | Ctrl/Cmd + A で全選択 | 推奨 |
| SEL-05 | 選択解除 | 空白部分クリックまたはEscで選択解除 | 必須 |
| SEL-06 | 選択状態表示 | 選択中のアイテムはハイライト表示 | 必須 |
| SEL-07 | 選択数表示 | 選択中のアイテム数をツールバーに表示 | 必須 |
| SEL-08 | フォルダ遷移時クリア | フォルダ移動時に選択状態をクリア | 必須 |

### 6.2 選択状態の視覚表現

```
未選択:
┌───────────┐
│  [Folder] │  通常の背景色
│ Documents │  通常のボーダー
└───────────┘

選択中:
┌───────────┐
│  [Folder] │  ハイライト背景（薄い青など）
│ Documents │  強調ボーダー（青など）
└───────────┘
```

---

## 7. ファイルアップロード

### 7.1 ユーザーストーリー

> ユーザーとして、ファイルをドラッグ&ドロップまたはファイル選択ダイアログでアップロードしたい。アップロードの進捗が表示され、失敗時には再試行できる。

### 7.2 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| UP-01 | ドラッグ&ドロップ | ファイルをドロップしてアップロード開始 | 必須 |
| UP-02 | ファイル選択 | ボタンクリックでファイル選択ダイアログを表示 | 必須 |
| UP-03 | 複数ファイル | 複数ファイルを同時にアップロードできる | 必須 |
| UP-04 | ドロップゾーン表示 | ドラッグ中はドロップゾーンを視覚的に表示 | 必須 |
| UP-05 | 進捗表示 | 各ファイルのアップロード進捗をパーセントで表示 | 必須 |
| UP-06 | 完了通知 | アップロード完了時に成功表示 | 必須 |
| UP-07 | エラー表示 | アップロード失敗時にエラーメッセージを表示 | 必須 |
| UP-08 | キャンセル | アップロード中のファイルをキャンセルできる | 推奨 |
| UP-09 | リトライ | 失敗したファイルを再試行できる | 推奨 |
| UP-10 | バックグラウンド | ページ遷移してもアップロードを継続 | 推奨 |

### 7.3 ドラッグ&ドロップ時の表示

```
ドラッグ中:
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│    ┌────────────────────────────────────────────────────┐    │
│    │                                                    │    │
│    │         [Upload icon]                              │    │
│    │                                                    │    │
│    │         Drop files to upload                       │    │
│    │                                                    │    │
│    └────────────────────────────────────────────────────┘    │
│                                                                │
│    ※ 点線ボーダー、半透明オーバーレイで表示                  │
└────────────────────────────────────────────────────────────────┘
```

### 7.4 進捗表示パネル

```
┌─────────────────────────────────────┐
│ Uploading 3 files        [Clear]   │
├─────────────────────────────────────┤
│ [✓] photo1.jpg           Complete  │
│ [↻] document.pdf           75%     │
│     ████████████░░░░               │
│ [×] video.mp4            Failed    │
│     Upload failed - Retry          │
│ [○] data.csv             Pending   │
└─────────────────────────────────────┘

凡例:
[✓] 完了
[↻] アップロード中（アニメーション）
[×] 失敗
[○] 待機中
```

---

## 8. コンテキストメニュー

### 8.1 ユーザーストーリー

> ユーザーとして、ファイルやフォルダを右クリックして、ダウンロード、名前変更、移動、削除などの操作を素早く行いたい。

### 8.2 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| CM-01 | 右クリック表示 | 右クリックでコンテキストメニューを表示 | 必須 |
| CM-02 | 位置配置 | クリック位置にメニューを表示 | 必須 |
| CM-03 | 外クリック閉じ | メニュー外クリックで閉じる | 必須 |
| CM-04 | ESC閉じ | Escキーで閉じる | 必須 |
| CM-05 | フォルダ用メニュー | フォルダ用のメニュー項目を表示 | 必須 |
| CM-06 | ファイル用メニュー | ファイル用のメニュー項目を表示 | 必須 |
| CM-07 | 複数選択時 | 複数選択時は一括操作メニューを表示 | 必須 |

### 8.3 メニュー項目

**フォルダ用:**

| 項目 | アイコン | 説明 |
|------|----------|------|
| Open | フォルダ | フォルダを開く |
| Download | ダウンロード | フォルダをZIPでダウンロード |
| --- | | セパレータ |
| Rename | 鉛筆 | 名前を変更 |
| Move to... | 移動 | 別の場所へ移動 |
| Copy | コピー | コピーを作成 |
| --- | | セパレータ |
| Share | 共有 | 共有設定を開く |
| Details | 情報 | 詳細情報を表示 |
| --- | | セパレータ |
| Move to trash | ゴミ箱 | ゴミ箱へ移動（赤色） |

**ファイル用:**

| 項目 | アイコン | 説明 |
|------|----------|------|
| Preview | プレビュー | ファイルをプレビュー |
| Download | ダウンロード | ファイルをダウンロード |
| --- | | セパレータ |
| Rename | 鉛筆 | 名前を変更 |
| Move to... | 移動 | 別の場所へ移動 |
| Copy | コピー | コピーを作成 |
| --- | | セパレータ |
| Share | 共有 | 共有設定を開く |
| Details | 情報 | 詳細情報を表示 |
| Version history | 履歴 | バージョン履歴を表示 |
| --- | | セパレータ |
| Move to trash | ゴミ箱 | ゴミ箱へ移動（赤色） |

### 8.4 レイアウト

```
┌───────────────────┐
│ [→] Open          │
│ [↓] Download      │
├───────────────────┤
│ [✎] Rename        │
│ [⇄] Move to...    │
│ [□] Copy          │
├───────────────────┤
│ [⌘] Share         │
│ [i] Details       │
├───────────────────┤
│ [🗑] Move to trash │  ← 赤色
└───────────────────┘
```

---

## 9. ダイアログ

### 9.1 新規フォルダダイアログ

#### 9.1.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| NF-01 | 名前入力 | フォルダ名を入力するテキストフィールド | 必須 |
| NF-02 | バリデーション | 空文字、禁止文字、重複をチェック | 必須 |
| NF-03 | 作成ボタン | フォルダを作成して閉じる | 必須 |
| NF-04 | キャンセル | 作成せずに閉じる | 必須 |
| NF-05 | 処理中表示 | 作成中はローディング表示 | 必須 |
| NF-06 | エラー表示 | 作成失敗時にエラーメッセージを表示 | 必須 |

#### 9.1.2 レイアウト

```
┌───────────────────────────────────────┐
│ New Folder                        [×] │
├───────────────────────────────────────┤
│                                       │
│ Folder name                           │
│ ┌───────────────────────────────────┐ │
│ │ Untitled folder                   │ │
│ └───────────────────────────────────┘ │
│ Folder name is required (エラー時)    │
│                                       │
├───────────────────────────────────────┤
│              [Cancel]  [Create]       │
└───────────────────────────────────────┘
```

### 9.2 名前変更ダイアログ

#### 9.2.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| RN-01 | 現在名表示 | 現在のファイル/フォルダ名を初期値として表示 | 必須 |
| RN-02 | バリデーション | 空文字、禁止文字、重複をチェック | 必須 |
| RN-03 | 拡張子維持 | ファイルの場合、拡張子を維持する警告 | 推奨 |
| RN-04 | 保存ボタン | 名前を変更して閉じる | 必須 |
| RN-05 | キャンセル | 変更せずに閉じる | 必須 |

### 9.3 移動ダイアログ

#### 9.3.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| MV-01 | フォルダツリー | 移動先を選択するフォルダツリーを表示 | 必須 |
| MV-02 | 現在地表示 | 現在のフォルダを識別可能にする | 必須 |
| MV-03 | 選択中表示 | 選択した移動先をハイライト | 必須 |
| MV-04 | 移動不可表示 | 移動不可のフォルダはグレーアウト | 必須 |
| MV-05 | 移動ボタン | 選択したフォルダへ移動 | 必須 |
| MV-06 | キャンセル | 移動せずに閉じる | 必須 |

### 9.4 削除確認ダイアログ

#### 9.4.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| DEL-01 | 確認メッセージ | 削除対象と影響を説明 | 必須 |
| DEL-02 | 対象数表示 | 削除対象の数を表示 | 必須 |
| DEL-03 | 削除ボタン | ゴミ箱へ移動 | 必須 |
| DEL-04 | キャンセル | 削除せずに閉じる | 必須 |

#### 9.4.2 レイアウト

```
┌───────────────────────────────────────┐
│ Move to trash?                    [×] │
├───────────────────────────────────────┤
│                                       │
│ Are you sure you want to move         │
│ "report.pdf" to trash?                │
│                                       │
│ You can restore this item from        │
│ the trash within 30 days.             │
│                                       │
├───────────────────────────────────────┤
│              [Cancel]  [Move to trash]│
└───────────────────────────────────────┘
```

---

## 10. 空状態

### 10.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| ES-01 | 空フォルダ | フォルダが空の場合、案内メッセージを表示 | 必須 |
| ES-02 | アイコン | 状況に応じたアイコンを表示 | 必須 |
| ES-03 | 説明文 | 状況を説明するテキストを表示 | 必須 |
| ES-04 | アクション | 推奨アクションボタンを表示 | 推奨 |

### 10.2 レイアウト

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│                      [Folder+ icon]                            │
│                                                                │
│                   This folder is empty                         │
│                                                                │
│         Get started by creating a new folder                   │
│                   or uploading files.                          │
│                                                                │
│                 [New Folder]  [Upload]                         │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

---

## 11. エラー状態

### 11.1 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| ERR-01 | 読み込みエラー | フォルダ内容取得失敗時のエラー表示 | 必須 |
| ERR-02 | リトライ | リトライボタンで再取得 | 必須 |
| ERR-03 | アップロードエラー | ファイルごとのエラー表示 | 必須 |
| ERR-04 | 操作エラー | 名前変更、移動、削除失敗時のエラー表示 | 必須 |

### 11.2 エラーメッセージ

| 状況 | メッセージ |
|------|-----------|
| フォルダ読み込み失敗 | "Failed to load folder contents. Please try again." |
| フォルダ作成失敗 | "Failed to create folder. Please try again." |
| 名前変更失敗 | "Failed to rename. Please try again." |
| 移動失敗 | "Failed to move items. Please try again." |
| 削除失敗 | "Failed to delete. Please try again." |
| アップロード失敗 | "Upload failed. Please try again." |
| 権限不足 | "You don't have permission to perform this action." |

---

## 12. ファイルプレビュー

### 12.1 ユーザーストーリー

> ユーザーとして、ファイルをダウンロードせずに内容を確認したい。

### 12.2 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| PV-01 | プレビュー表示 | ファイルをモーダルでプレビュー表示 | 必須 |
| PV-02 | 画像プレビュー | 画像ファイル（jpg, png, gif, webp）を表示 | 必須 |
| PV-03 | PDFプレビュー | PDFファイルをビューアで表示 | 推奨 |
| PV-04 | テキストプレビュー | テキストファイルを表示 | 推奨 |
| PV-05 | ダウンロード | プレビュー画面からダウンロード可能 | 必須 |
| PV-06 | 閉じる | ESCキーまたは×ボタンで閉じる | 必須 |
| PV-07 | ナビゲーション | 前後のファイルに移動（矢印キー） | 推奨 |

### 12.3 レイアウト

```
┌─────────────────────────────────────────────────────────────┐
│                                                         [×] │
│                                                             │
│                    ┌─────────────────┐                      │
│                    │                 │                      │
│        [<]         │    プレビュー    │         [>]          │
│                    │                 │                      │
│                    └─────────────────┘                      │
│                                                             │
│  filename.jpg                           [Download] [Share]  │
└─────────────────────────────────────────────────────────────┘
```

---

## 13. ゴミ箱画面

### 13.1 ユーザーストーリー

> ユーザーとして、削除したファイルを確認し、復元または完全削除したい。

### 13.2 機能要件

| ID | 機能 | 説明 | 優先度 |
|----|------|------|--------|
| TR-01 | 削除済み一覧 | ゴミ箱内のファイル/フォルダを一覧表示 | 必須 |
| TR-02 | 復元 | 選択アイテムを元の場所に復元 | 必須 |
| TR-03 | 完全削除 | 選択アイテムを完全に削除 | 必須 |
| TR-04 | ゴミ箱を空にする | すべてのアイテムを完全削除 | 必須 |
| TR-05 | 削除日表示 | 各アイテムの削除日時を表示 | 必須 |
| TR-06 | 自動削除通知 | 30日後に自動削除される旨を表示 | 推奨 |

### 13.3 レイアウト

```
┌────────────────────────────────────────────────────────────────┐
│ Trash                                      [Empty trash]       │
├────────────────────────────────────────────────────────────────┤
│ Items in trash will be automatically deleted after 30 days.   │
├────────────────────────────────────────────────────────────────┤
│ [x] │ Name              │ Deleted         │ Size              │
├────────────────────────────────────────────────────────────────┤
│ [ ] │ old_report.pdf    │ Jan 25, 2024    │ 456 KB            │
│ [ ] │ backup_folder     │ Jan 20, 2024    │ —                 │
└────────────────────────────────────────────────────────────────┘

選択時ツールバー:
┌────────────────────────────────────────────────────────────────┐
│ 2 items selected         [Restore]  [Delete permanently]       │
└────────────────────────────────────────────────────────────────┘
```

---

## 14. 別仕様で定義する機能

以下の機能は別ドキュメントで詳細を定義:

| 機能 | 参照ドキュメント |
|------|-----------------|
| 共有ダイアログ | （未作成）fe-sharing.md |
| 詳細情報パネル | （未作成）fe-file-details.md |
| バージョン履歴 | （未作成）fe-version-history.md |

---

## 15. キーボードショートカット

| キー | 動作 |
|------|------|
| Enter | 選択アイテムを開く（フォルダ移動/ファイルプレビュー） |
| Delete / Backspace | 選択アイテムをゴミ箱へ |
| Ctrl/Cmd + A | 全選択 |
| Ctrl/Cmd + C | コピー |
| Ctrl/Cmd + V | 貼り付け |
| Ctrl/Cmd + X | 切り取り |
| Escape | 選択解除 / ダイアログを閉じる |
| F2 | 名前変更 |
| ↑ / ↓ / ← / → | 選択移動 |

---

## 16. レスポンシブ対応

| 画面サイズ | グリッド列数 | 調整事項 |
|-----------|-------------|---------|
| XL (1280px+) | 6列 | フル機能 |
| LG (1024px+) | 5列 | フル機能 |
| MD (768px+) | 4列 | サイドバー折りたたみ |
| SM (640px+) | 3列 | ツールバー簡略化 |
| XS (~640px) | 2列 | モバイル最適化 |

---

## 17. 受け入れ基準

### 17.1 ファイルブラウザ

- [ ] フォルダ内のファイルとフォルダが一覧表示される
- [ ] パンくずリストでパスが表示され、クリックでナビゲートできる
- [ ] フォルダをダブルクリックで開ける
- [ ] グリッド表示とリスト表示を切り替えられる
- [ ] 名前/更新日時/サイズでソートできる
- [ ] 空のフォルダでEmpty Stateが表示される
- [ ] ローディング中はローディング表示される
- [ ] エラー時はエラーメッセージとリトライボタンが表示される

### 17.2 選択

- [ ] クリックで単一選択できる
- [ ] Ctrl/Cmd + クリックで複数選択できる
- [ ] 選択中のアイテムがハイライト表示される
- [ ] 選択数がツールバーに表示される
- [ ] フォルダ遷移時に選択がクリアされる

### 17.3 アップロード

- [ ] ドラッグ&ドロップでファイルをアップロードできる
- [ ] ファイル選択ダイアログからアップロードできる
- [ ] アップロード進捗が表示される
- [ ] アップロード完了が表示される
- [ ] アップロード失敗時にエラーが表示される

### 17.4 コンテキストメニュー

- [ ] 右クリックでコンテキストメニューが表示される
- [ ] メニュー外クリックで閉じる
- [ ] フォルダとファイルで適切なメニュー項目が表示される
- [ ] 各メニュー項目が正しく動作する

### 17.5 ダイアログ

- [ ] 新規フォルダを作成できる
- [ ] ファイル/フォルダ名を変更できる
- [ ] ファイル/フォルダを移動できる
- [ ] ファイル/フォルダを削除できる

### 17.6 プレビュー

- [ ] 画像ファイルをプレビューできる
- [ ] プレビューからダウンロードできる
- [ ] ESCキーでプレビューを閉じられる

### 17.7 ゴミ箱

- [ ] 削除されたファイル/フォルダが一覧表示される
- [ ] 選択アイテムを復元できる
- [ ] 選択アイテムを完全削除できる
- [ ] ゴミ箱を空にできる

---

## 関連ドキュメント

- [fe-foundation.md](./fe-foundation.md) - フロントエンド基盤
- [fe-auth-pages.md](./fe-auth-pages.md) - 認証画面
- [storage-folder.md](./storage-folder.md) - フォルダバックエンド仕様
- [storage-file.md](./storage-file.md) - ファイルバックエンド仕様
- [FRONTEND.md](../02-architecture/FRONTEND.md) - フロントエンド設計
